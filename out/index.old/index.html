<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><script async="" src="https://www.googletagmanager.com/gtag/js?id=G-TZ2VB384DV" class="jsx-2179548495"></script><script class="jsx-2179548495">
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());

            gtag('config', 'G-TZ2VB384DV');
            </script><title>Introducing dev.lwlx.xyz</title><link rel="icon" href="/favicon.ico"/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-925c129bbe0560f6b8dc.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9307f483d5f18bd6c60f.js" as="script"/><link rel="preload" href="/_next/static/chunks/2e673fc21468a4432efcf19d818365d58fdba786.41dc43abfacb65988d02.js" as="script"/><link rel="preload" href="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.93469a02a48268d1aa12.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-4bf52dd0731f50193482.js" as="script"/><link rel="preload" href="/_next/static/chunks/a58f3d40a2fe7d102a34d530ac258b1586e746d5.03d0df94a6f2b092a22b.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/index.old-e343ff192d2d50e9cbaf.js" as="script"/><style id="__jsx-654247902">.devii-markdown p,.devii-markdown li{line-height:1.7;color:#333;}.devii-markdown h1,.devii-markdown h2,.devii-markdown h3,.devii-markdown h4,.devii-markdown h5,.devii-markdown h6{margin:0px;padding:0px;}.devii-markdown h1>a,.devii-markdown h2>a,.devii-markdown h3>a,.devii-markdown h4>a,.devii-markdown h5>a,.devii-markdown h6>a{-webkit-text-decoration:underline;text-decoration:underline;color:#F07693;}.devii-markdown hr{margin:20px 0px;opacity:0.35;}.devii-markdown h1{padding-top:30px;padding-bottom:10px;margin-top:30px;margin-bottom:30px;}.devii-markdown h2{padding-top:25px;padding-bottom:10px;margin-top:25px;margin-bottom:25px;}.devii-markdown h3{padding-top:20px;padding-bottom:10px;margin-top:20px;margin-bottom:20px;}.devii-markdown h4{padding-top:15px;padding-bottom:10px;margin-top:15px;margin-bottom:15px;}.devii-markdown h5{padding-top:10px;padding-bottom:10px;margin-top:10px;margin-bottom:10px;}.devii-markdown h6{padding-top:5px;padding-bottom:10px;margin-top:5px;margin-bottom:5px;}.devii-markdown p{padding:10px 0px;margin:10px 0px;}.devii-markdown li{padding:10px 0px;}.devii-markdown img{width:100%;border-radius:8px;box-shadow:0px 4px 30px #00000040;}.devii-markdown code{background-color:#F0769320;padding:3px 3px;border-radius:2px;font-size:16px;}.devii-markdown pre{margin:20px 0px !important;}.devii-markdown ol pre,.devii-markdown ol p{margin:0px 0px !important;}.devii-markdown blockquote{margin:0px;padding-left:1em;border-left:4px solid #F07693;}a{-webkit-text-decoration:underline;text-decoration:underline;color:#F07693;}</style><style id="__jsx-2179548495">html,body,#__next{min-height:100%;padding:0;margin:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto, Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue, sans-serif;}*{box-sizing:border-box;}</style></head><body><div id="__next"><div style="display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh" class="jsx-2179548495"><div style="top:0;width:100%;height:50px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background-color:#04060A;padding:30px;font-size:12pt"><a href="/" style="text-decoration:none"><p style="color:#F07693">dev.lwlx.xyz</p></a><div style="flex:1"></div><a href="https://github.com/Lawlez/dev.lwlx.xyz" style="text-decoration:none"><p style="padding:0px 1em;color:#F07693">GitHub</p></a><a href="https://github.com/InfoSecx0" style="text-decoration:none"><p style="padding:0px 1em;color:#F07693">Twitter</p></a></div><div style="width:100%"><div style="max-width:550px;margin:auto;padding:50px 3vw"><div style="width:100%" class="jsx-654247902 devii-markdown"><h1>Welcome to dev.lwlx.xyz</h1><p>This site is entirely built with dev.lwlx.xyz! In fact, the
<a href="https://github.com/Lawlez/dev.lwlx.xyz">GitHub repo for dev.lwlx.xyz</a> contains the
code for the site you&#x27;re looking at now.</p><p>dev.lwlx.xyz doesn&#x27;t try to be a fully functional blog out of the box. After cloning/forking the repo, you&#x27;ll need to delete the contents of <code>index.tsx</code> (the page you&#x27;re reading now!) and implement your own homepage. dev.lwlx.xyz makes it easier â€” for instance, you can access a list of all your blog posts in <code>props.posts</code> â€” but you still have to build the site you&#x27;re imagining in your mind&#x27;s eye.</p><p>And that&#x27;s the point! After you clone/fork it, look through this code to learn how dev.lwlx.xyz works. Then rip out what you don&#x27;t like, customize everything else, and build your own tools and components on top of the foundation dev.lwlx.xyz provides!</p><p>dev.lwlx.xyz was designed to place <em>zero restrictions</em> on what your site can be or become. You can use any React component or styling library, pull in data from third-party APIs, even implement user accounts. Your personal website is the online manifestation of you. Don&#x27;t compromise.</p></div></div><div style="width:100%;padding:100px 3vw;display:flex;flex-direction:column;align-items:center"><h2 style="margin:4px 0px;font-size:34pt">Features</h2><div style="max-width:550px"><div style="width:100%" class="jsx-654247902 devii-markdown"><p>It may not look like much, but dev.lwlx.xyz does a lot out of the box.</p><p><strong>Markdown loading and rendering</strong>: Using Next.js dynamic imports, you can load Markdown files and pass them into your Next.js pages as props. Easy peasy.</p><p><strong>TypeScript + React</strong>: Markdown is great for text-heavy, non-interactive content. For everything else, you&#x27;ll want something a little more expressive. dev.lwlx.xyz makes it easy to mix Markdown and React on the same page. Just load your Markdown files with dynamic imports, pass it into your component as a prop, and render it with the <code>Markdown.tsx</code> component.</p><p><strong>Built-in support for blogs</strong>: dev.lwlx.xyz provides a utility for parsing Markdown blog posts with frontmatter metadata into a structured TypeScript object. Supported tags include: <code>title</code>, <code>subtitle</code>, <code>datePublished</code>, <code>tags</code>, <code>description</code>, <code>canonicalUrl</code>, <code>author</code>, <code>authorPhoto</code>, <code>authorTwitter</code>, <code>bannerPhoto</code>, and <code>thumbnailPhoto</code></p><p><strong>Medium-inspired styles</strong>: The Markdown components (<code>Markdown.tsx</code>) contains default styles inspired by Medium.</p><p><strong>Google Analytics</strong>: Just add your Google Analytics ID (e.g. &#x27;UA-999999999-1&#x27;) to <code>globals.ts</code> and the appropriate snippet will be automatically added to every page.</p><p><strong>RSS feed generation</strong>: An RSS feed is auto-generated from your blog post feed.</p><p><strong>SEO best practices</strong>: Every blog post page automatically populated meta tags based on the post metadata. This includes a <code>title</code> tag, <code>meta</code> tags, <code>og:</code> tags, Twitter metadata, and a <code>link</code> tag containing the canonical URL.</p><p><strong>GitHub-style code blocks</strong>: with syntax highlighting powered by <a href="https://github.com/conorhastings/react-syntax-highlighter">react-syntax-highlighter</a>. Works out-of-the-box for all programming languages. Just use Markdown&#x27;s triple backtick syntax with a &quot;language identifier&quot;, <a href="https://help.github.com/en/github/writing-on-github/creating-and-highlighting-code-blocks">just like GitHub</a>.</p><p><strong>Static generation</strong>: you can generate a fully static version of your site using <code>yarn build &amp;&amp; yarn export</code>. Powered by Next.js.</p><p><strong>Zero magic</strong>: You can view and modify every aspect of the site. If you&#x27;re looking for a starting point, start modifying <code>index.tsx</code> (the home page), <code>BlogPost.tsx</code> (the blog post template), and <code>Markdown.tsx</code> (the Markdown component). And of course you can add entirely new pages/components as well!</p></div></div></div><div style="width:100%;padding:100px 3vw;display:flex;flex-direction:column;align-items:center"><h2 style="margin:4px 0px;font-size:34pt">My blog posts</h2><p style="max-width:550px;padding-bottom:30px;line-height:1.7">This section demonstrates the power of dynamic imports. Every Markdown file under <code>/md/blog</code> is automatically parsed into a structured TypeScript object and available in the<!-- --> <code>props.posts</code> array. These blog post &quot;cards&quot; are implemented in the<code>/components/PostCard.tsx</code> component.</p><div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(300px, 1fr));grid-row-gap:8px;grid-column-gap:8px;width:100%;padding:0px 7vw"><a href="/blog/consistent-x-device-encryption" style="text-decoration:inherit;color:inherit;margin:10px;display:flex;flex-direction:row;justify-content:center;height:300px"><div style="opacity:0.92;box-shadow:0px 2px 10px #00000040;width:100%;max-width:960px;overflow:hidden;border-radius:8px;display:flex;flex-direction:column;height:100%"><div style="background:url(/crypto_thumb.jpg) no-repeat center center;background-size:cover;width:100%;flex:1"></div><div style="padding:15px 10px;display:flex;flex-direction:column;border-top:1px solid #00000020"><h2 style="margin:0px 0px 8px 0px;font-size:14pt;font-weight:600;padding:2px 10%;text-align:center">Getting consistent Encryption in Node / PHP / Browser and openSSL</h2><p style="opacity:0.6;text-align:center;margin:0px">October 29th, 2020</p><div style="flex:1"> </div><div style="margin-top:8px"><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">encryption</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">decryption</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">openssl</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">nodejs</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">php</div></div></div></div></a><a href="/blog/Sick-Security-and-Dev-Tools" style="text-decoration:inherit;color:inherit;margin:10px;display:flex;flex-direction:row;justify-content:center;height:300px"><div style="opacity:0.92;box-shadow:0px 2px 10px #00000040;width:100%;max-width:960px;overflow:hidden;border-radius:8px;display:flex;flex-direction:column;height:100%"><div style="background:url(/profile.jpg) no-repeat center center;background-size:cover;width:100%;flex:1"></div><div style="padding:15px 10px;display:flex;flex-direction:column;border-top:1px solid #00000020"><h2 style="margin:0px 0px 8px 0px;font-size:14pt;font-weight:600;padding:2px 10%;text-align:center">A Collection of useful Security and DevOps tools.</h2><p style="opacity:0.6;text-align:center;margin:0px">September 22nd, 2020</p><div style="flex:1"> </div><div style="margin-top:8px"><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">tools</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">devtools</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">security</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">javascript</div><div style="display:inline-block;padding:3px 12px;border-radius:20px;background-color:#dddddd;color:#333333;margin-right:8px;box-shadow:0px 1px 1px #00000030">devops</div></div></div></div></a></div></div><div style="width:100%;padding:100px 3vw;display:flex;flex-direction:column;align-items:center"><h2 style="text-align:center;font-size:34pt">Testimonials</h2><blockquote style="border-left:3px solid #04060A;padding-left:20px"><p style="font-size:20pt"><em>Seems like it might be useful!</em></p><p style="text-align:right">â€” Dan Abramov, taken<!-- --> <a href="https://github.com/Lawlez/dev.lwlx.xyz/issues/2" target="_blank">utterly out of context</a></p></blockquote></div><div style="width:100%;padding:100px 3vw;display:flex;flex-direction:column;align-items:center"><h2 style="text-align:center;font-size:34pt">README.md</h2><p style="text-align:center;max-width:600px;margin:auto;line-height:1.7">Below is the README.md for devii. It was imported and rendered using Next.js dynamic imports. The rest of this page (including this paragraph) are rendered with React. You can also read the README on GitHub at<!-- --> <a href="https://github.com/Lawlez/dev.lwlx.xyz">https://github.com/Lawlez/dev.lwlx.xyz</a>.</p></div><div style="width:100%;background-color:#eeeeee;padding:0px 3vw 50px 3vw"><div style="max-width:600px;margin:auto"><div style="width:100%" class="jsx-654247902 devii-markdown"><p align="center">
  </p><h1 align="center">dev.lwlx.xyz</h1>
<p></p>
<p align="center">
  A developer blog starter for 2020. <br/>Next.js<br/>React<br/>TypeScript<br/>Markdown<br/>syntax highlighting<br/>SEO<br/>RSS generation
</p>
<p align="center">
if you&#x27;re happy and you know it, star this repo
</p>
<p align="center">
  <a href="https://opensource.org/licenses/MIT" rel="nofollow">
    <img src="https://img.shields.io/github/license/vriad/devii?alt" alt="License" style="width:100px"/>
  </a>
</p><br/>
<br/>
<br/><p>A dev blog starter for 2020.</p><ul><li>Works as a Markdown-based static-site generator out of the box: just add new blog posts to <code>/md/blog</code></li><li>Supports exporting to fully static assets (powered by Next.js)</li><li>Hot reload (powered by Next.js)</li><li>Makes it easy to write custom pages/code in React + TypeScript</li><li>Provides a <code>Markdown.tsx</code> component with support for GitHub-style syntax highlighting</li><li>Automatic RSS feed generation</li><li>SEO best practices (title tag, meta tags, canonical URLs)</li></ul><h1>Get started</h1><p>Your personal website is the online manifestation of you. dev doesn&#x27;t really provide much out of the box. It provides some nice Medium-style default styles for your blog posts and some tools for loading/rendering Markdown. But you&#x27;ll have to implement your own homepage more or less from scratch. And that&#x27;s the point! Don&#x27;t settle for some theme. Build something that represents you.</p><p>To get started:</p><ol><li>Fork this repo</li><li><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span>git clone git@github</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">com</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span>yourusername</span><span class="token token" style="color:#c9c0be;background:#000000">/</span><span>devii</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">git</span><span> my</span><span class="token token" style="color:#c9c0be;background:#000000">-</span><span>blog
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span>cd my</span><span class="token token" style="color:#c9c0be;background:#000000">-</span><span>blog
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span>yarn
</span></code></pre></li><li>Start the development server with <code>yarn dev</code>. This should start a server on <code>http://localhost:3000</code>.</li></ol><h2>Powered by Next.js</h2><p>The core of this repo is <a href="https://https://nextjs.org">Next.js</a>. We chose Next.js because it&#x27;s the simplest, most elegant way to generate a static version of a React-based website. The documentation is excellent; read it first: <a href="https://nextjs.org/docs">Next.js Documentation</a>.</p><h2>Project structure</h2><p>Here&#x27;s is an abbreviated version of the project structure. Certain config files (<code>next.config.js</code>, <code>next-end.d.ts</code>, <code>.gitignore</code>) have been removed for simplicity.</p><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span class="token token" style="color:#999999">.</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span></span><span class="token token property-access">â”œâ”€â”€</span><span> </span><span class="token token" style="color:#4499ee">README</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">md</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span><span>â”œâ”€â”€ </span><span class="token token" style="color:#1177ab">public</span><span> </span><span class="token token" style="color:#4e5c63">// all static assets (images, css, etc) go here</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">4</span><span>â”œâ”€â”€ pages </span><span class="token token" style="color:#4e5c63">// every .tsx component in this dir becomes a page of the final site</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">5</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ index</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span> </span><span class="token token" style="color:#4e5c63">// the home page (which has access to the list of all blog posts)</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">6</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ blog
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">7</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>       â”œâ”€â”€ </span><span class="token token" style="color:#999999">[</span><span>blog</span><span class="token token" style="color:#999999">]</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">md</span><span> </span><span class="token token" style="color:#4e5c63">// a template component that renders the blog posts under `/md/blog`</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">8</span>â”œâ”€â”€ md
</span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">9</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ blog
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">10</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>       â”œâ”€â”€ devii</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">md</span><span> </span><span class="token token" style="color:#4e5c63">// this page!</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">11</span><span>        â”œâ”€â”€ whatever</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">md</span><span> </span><span class="token token" style="color:#4e5c63">// every MD file in this directory becomes a blog post</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">12</span>â”œâ”€â”€ components
</span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">13</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">BlogPost</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">14</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">Code</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">15</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">Footer</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">16</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">Header</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">17</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">Markdown</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">18</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token maybe-class-name">Meta</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">tsx</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">19</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">|</span><span>   â”œâ”€â”€ </span><span class="token token" style="color:#c9c0be;background:#000000">&lt;</span><span>various</span><span class="token token" style="color:#c9c0be;background:#000000">&gt;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">20</span><span>â”œâ”€â”€ loader</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">ts</span><span> </span><span class="token token" style="color:#4e5c63">// contains utility functions for loading/parsing Markdown</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">21</span>â”œâ”€â”€ node_modules
</span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">22</span><span>â”œâ”€â”€ tsconfig</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">json</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">23</span><span>â”œâ”€â”€ </span><span class="token token" style="color:#1177ab">package</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">json</span></span></code></pre><p>Next.js generates a new webpage for each file in the <code>pages</code> directory. If you want to add an About page to your blog, just add <code>about.tsx</code> inside <code>pages</code> and start writing the page.</p><p>By default the repo only contains two pages: a home page (<code>/pages/index.tsx</code>) and a blog page (<code>/pages/[blog].md</code>).</p><p>The file <code>[blog].ts</code> follows the Next.js convention of using square brackets to indicate a <a href="https://nextjs.org/docs/routing/dynamic-routes">dynamic route</a>.</p><h2>The home page</h2><p>The home page is intentionally minimal. You can put whatever you want in <code>index.tsx</code>; one of our goals in designing dev.lwlx.xyz was to place no restrictions on the developer. Use your imagination! Your website is the online manifestion of you. You can use whatever npm packages or styling libraries you like.</p><h2>Styling</h2><p>dev.lwlx.xyz is unopinionated about styling. Because your dev.lwlx.xyz site is a standard React app under the hood, you can use your favorite library from <code>npm</code> to do styling.</p><p>dev.lwlx.xyz provides certain styles by default, notably in the Markdown renderer (<code>/components/Markdown.tsx</code>). Those styles are implemented using Next&#x27;s built-in styling solution <code>styled-jsx</code>. Unfortunately it was necessary to make those styles global, since <code>styled-jsx</code> <a href="https://github.com/vercel/styled-jsx/issues/573">doesn&#x27;t play nice</a> with third-party components (in this case <code>react-markdown</code>).</p><p>Feel free to re-implemement the built-in styles with your library of choice If you choose to use a separate styling library (<a href="https://emotion.sh/">emotion</a> is pretty glorious) then you could re-implement the default styles</p><h2>Adding a new blog post</h2><p>Just add a Markdown file under <code>md/blog/</code> to create a new blog post:</p><ol><li>Create a new Markdown file called <code>foo.md</code> within the <code>/md/blog</code> directory</li><li>Add in some basic Markdown content</li><li>Then go to <code>http://localhost:3000/blog/foo</code>. You should see the new post.</li></ol><h2>Frontmatter support</h2><p>Every Markdown file can include a &quot;frontmatter block&quot; containing various metadata. dev.lwlx.xyz provides a <code>loadPost</code> utility that loads a Markdown file, parses it&#x27;s frontmatter metadata, and returns a structured <code>PostData</code> object:</p><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span class="token token" style="color:#1177ab">type</span><span> </span><span class="token token class-name maybe-class-name">PostData</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">=</span><span> </span><span class="token token" style="color:#999999">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span>  path</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span><span>  title</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">4</span><span>  subtitle</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">5</span><span>  description</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span> </span><span class="token token" style="color:#4e5c63">// used for SEO</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">6</span><span>  canonicalUrl</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span> </span><span class="token token" style="color:#4e5c63">// used for SEO</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">7</span><span>  datePublished</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">number</span><span class="token token" style="color:#999999">;</span><span> </span><span class="token token" style="color:#4e5c63">// Unix timestamp</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">8</span><span>  author</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">9</span><span>  authorPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">10</span><span>  authorHandle</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span> </span><span class="token token" style="color:#4e5c63">// twitter handle</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">11</span><span>  tags</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">[</span><span class="token token" style="color:#999999">]</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">12</span><span>  bannerPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">13</span><span>  thumbnailPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">?</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">14</span><span></span><span class="token token" style="color:#999999">}</span><span class="token token" style="color:#999999">;</span></span></code></pre><p>For example, here is the frontmatter blog from the sample blog post (<code>md/blog/the-ultimate-tech-stack.md</code>):</p><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span class="token token" style="color:#c9c0be;background:#000000">--</span><span class="token token" style="color:#c9c0be;background:#000000">-</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span>title</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token maybe-class-name">Introducing</span><span> dev</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">lwlx</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">xyz</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span><span>subtitle</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token maybe-class-name">Bringing</span><span> the power </span><span class="token token" style="color:#1177ab">of</span><span> </span><span class="token token maybe-class-name">React</span><span class="token token" style="color:#999999">,</span><span> </span><span class="token token maybe-class-name">TypeScript</span><span class="token token" style="color:#999999">,</span><span> and </span><span class="token token" style="color:#1177ab">static</span><span> generation to dev blogs everywhere
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">4</span><span>datePublished</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#4499ee">1589064522569</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">5</span><span>author</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token maybe-class-name">Ben</span><span> </span><span class="token token maybe-class-name">Bitdiddle</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">6</span><span>tags</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">7</span><span>  </span><span class="token token" style="color:#c9c0be;background:#000000">-</span><span> dev</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">lwlx</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">xyz</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">8</span><span>  </span><span class="token token" style="color:#c9c0be;background:#000000">-</span><span> </span><span class="token token maybe-class-name">Blogs</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">9</span><span>authorPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">/</span><span>profile</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">jpg</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">10</span><span>bannerPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">/</span><span>brook</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">jpg</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">11</span><span>thumbnailPhoto</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">/</span><span>brook</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">jpg</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">12</span><span></span><span class="token token" style="color:#c9c0be;background:#000000">--</span><span class="token token" style="color:#c9c0be;background:#000000">-</span></span></code></pre><p>View <code>/loader.ts</code> to see how this works.</p><h2>Google Analytics</h2><p>Just add your Google Analytics ID (e.g. &#x27;UA-999999999-1&#x27;) to <code>globals.ts</code> and dev.lwlx.xyz will automatically add the appropriate Google Analytics snippet to your site. Go to <code>/pages/_app.ts</code> to see how this works or customize this behavior.</p><h2>Medium-inspired design</h2><p>The Markdown renderer (<code>Markdown.tsx</code>) provides a default style inspired by Medium. Just modify the CSS in <code>Markdown.tsx</code> to customize the design to your liking.</p><h2>GitHub-style code blocks</h2><p>You can easily drop code blocks into your blog posts using triple-backtick syntax (<a href="https://help.github.com/en/github/writing-on-github/creating-and-highlighting-code-blocks">just like GitHub</a>). No more embedding CodePen iframes! ðŸš€</p><p>Works out-of-the-box for all programming languages. Specify your language with a &quot;language tag&quot;. So this:</p>  <pre>

  ```ts
  // pretty neat huh?
  const test = (arg: string) =&gt; {
    return arg.length &gt; 5;
  };
  ```</pre><p>turns into</p><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span class="token token" style="color:#4e5c63">// pretty neat huh?</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span></span><span class="token token" style="color:#1177ab">const</span><span> </span><span class="token token function-variable" style="color:#c7526d">test</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">=</span><span> </span><span class="token token" style="color:#999999">(</span><span>arg</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#f07693">string</span><span class="token token" style="color:#999999">)</span><span> </span><span class="token token arrow" style="color:#c9c0be;background:#000000">=&gt;</span><span> </span><span class="token token" style="color:#999999">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span><span>  </span><span class="token token" style="color:#1177ab">return</span><span> arg</span><span class="token token" style="color:#999999">.</span><span class="token token property-access">length</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">&gt;</span><span> </span><span class="token token" style="color:#4499ee">5</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">4</span><span></span><span class="token token" style="color:#999999">}</span><span class="token token" style="color:#999999">;</span></span></code></pre><p>View <code>/components/Code.tsx</code> to see how this works or customize this behavior.</p><h2>Markdown loading</h2><p><em>You don&#x27;t need to understand all of this to use dev.lwlx.xyz. Consider this an &quot;advanced guide&quot; you can use if you want to customize the structure of the site.</em></p><p>Markdown posts are loaded during Next.js static build step. Check out the <a href="https://nextjs.org/docs/basic-features/data-fetching">Data Fetching</a> documentation to learn more about this.</p><p>Here&#x27;s the short version: if export a function called <code>getStaticProps</code> from one of your page components, Next.js will execute that function, take the result, and pass the <code>props</code> property (which should be another object) into your page as props.</p><p>You can dynamically load and parse a Markdown file using <code>loadMarkdownFile</code>, a utility function implemented in <code>loader.ts</code>. It is an async function that returns a <code>PostData</code> TypeScript object containing all the metadata keys listed above:</p><p>For an example of this, check out the <code>getStaticProps</code> implementation from the homepage. The function calls <code>loadBlogPosts</code> - a utilty function that loads <em>every</em> blog posts in the <code>/md/blog/</code> directory, parses them, and returns <code>PostData[]</code>.</p><pre style="padding:1em;margin:.5em 0;overflow:auto;background:#04060a"><code style="background-color:transparent;color:#C9C0BE;width:1024px;white-space:pre"><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">1</span><span class="token token" style="color:#1177ab">export</span><span> </span><span class="token token" style="color:#1177ab">const</span><span> </span><span class="token token function-variable" style="color:#c7526d">getStaticProps</span><span> </span><span class="token token" style="color:#c9c0be;background:#000000">=</span><span> </span><span class="token token" style="color:#1177ab">async</span><span> </span><span class="token token" style="color:#999999">(</span><span class="token token" style="color:#999999">)</span><span> </span><span class="token token arrow" style="color:#c9c0be;background:#000000">=&gt;</span><span> </span><span class="token token" style="color:#999999">{</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">2</span><span>  </span><span class="token token" style="color:#1177ab">const</span><span> posts </span><span class="token token" style="color:#c9c0be;background:#000000">=</span><span> </span><span class="token token" style="color:#1177ab">await</span><span> </span><span class="token token" style="color:#c7526d">loadBlogPosts</span><span class="token token" style="color:#999999">(</span><span class="token token" style="color:#999999">)</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">3</span><span>  </span><span class="token token" style="color:#1177ab">return</span><span> </span><span class="token token" style="color:#999999">{</span><span> props</span><span class="token token" style="color:#c9c0be;background:#000000">:</span><span> </span><span class="token token" style="color:#999999">{</span><span> posts </span><span class="token token" style="color:#999999">}</span><span> </span><span class="token token" style="color:#999999">}</span><span class="token token" style="color:#999999">;</span><span>
</span></span><span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2em;padding-right:1em;text-align:right;user-select:none;color:#4e5c63">4</span><span></span><span class="token token" style="color:#999999">}</span><span class="token token" style="color:#999999">;</span></span></code></pre><p>There are a few utility functions in <code>loader.ts</code> that dev.lwlx.xyz uses. All functions are <em>async</em>! All functions accept a <em>relative</em> path which is expected to be _relative to the <code>md/</code> directory. For instance <code>loadPost(&#x27;blog/test.md&#x27;</code>) would load <code>/md/blog/test.md</code>.</p><ul><li><code>loadPost</code> loads/parses a Markdown file and returns a <code>PostData</code></li><li><code>loadBlogPosts</code>: loads/parses all the files in <code>/md/blog/</code>. Returns <code>PostData[]</code>. Used in <code>index.tsx</code> to load/render a list of all published blog posts</li><li><code>loadMarkdownFile</code>: loads a Markdown file but doesn&#x27;t parse it. Returns the string content. Useful if you want to implement some parts of a page in Markdown and other parts in React</li><li><code>loadMarkdownFiles</code>: accepts a <a href="https://docs.python.org/3/library/glob.html">glob</a> pattern and loads all the files inside <code>/md/</code> whose names match the pattern. Used internally by <code>loadBlogPosts</code></li></ul><h2>Static generation</h2><p>You can generate a fully static version of your site using <code>yarn build &amp;&amp; yarn export</code>. This step is entirely powered by Next.js. The static site is exported to the <code>out</code> directory.</p><p>After it&#x27;s generated, use your static file hosting service of choice (Vercel, Netlify, Firebase Hosting, Amazon S3) to deploy your site.</p><h2>Global configs</h2><p>There is a <code>globals.ts</code> file in the project root containing some settings/configuration metadata about your site:</p><ul><li><code>yourName</code>: Your name, used for the copyright tags in the footer and the RSS feed, e.g. Alyssa P. Hacker</li><li><code>siteName</code>: The title of your blog, e.g. <code>Alyssa&#x27;s Cool Blog</code>;</li><li><code>siteDescription</code>: A short description, used in the <code>meta</code> description tag, e.g. &#x27;I write about code &#x27;n stuff&#x27;;</li><li><code>siteCreationDate</code>: Used in the generated RSS feed. Use this format: &#x27;March 3, 2020 04:00:00 GMT&#x27;;</li><li><code>twitterHandle</code>: The twitter handle for you or your blog/company, used in the Twitter meta tags. Include the @ symbol, e.g. &#x27;@alyssaphacker&#x27;;</li><li><code>email</code>: Your email, used as the &quot;webMaster&quot; and &quot;managingEditor&quot; field of the generated RSS feed, e.g. <code>alyssa@example.com</code>;</li><li><code>url</code>: The base URL of your website, used to &quot;compute&quot; default canonical links from relative paths, e.g. &#x27;https://alyssaphacker.com&#x27;;</li><li><code>accentColor</code>: The header and footer background color, e.g. <code>#4fc2b4</code>;</li></ul><h2>RSS feed generation</h2><p>An RSS feed is auto-generated from your blog post feed. This feed is generated using the <code>rss</code> module (for converting JSON to RSS format) and <code>showdown</code> for converting the markdown files to RSS-compatible HTML.</p><p>For RSS generation to work, all your posts must contain a <code>datePublished</code> timestamp in their frontmatter metadata. To examine or customize the RSS generation, check out the <code>rssUtil.ts</code> file in the root directory.</p><h2>SEO</h2><p>Every blog post page automatically populated meta tags based on the post metadata. This includes a <code>title</code> tag, <code>meta</code> tags, <code>og:</code> tags, Twitter metadata, and a <code>link</code> tag containing the canonical URL.</p><p>The default value of the canonical URL is computed by concatenating the value of your <code>url</code> config (see Global Configs above) and the relative path of your post. Verify that the canonical URL is exactly equivalent to the URL in the browser when visiting your live site, otherwise your site&#x27;s SEO may suffer.</p><h2>Insanely customizable</h2><p>There&#x27;s nothing &quot;under the hood&quot; here. You can view and modify all the files that provide the functionality listed above. dev.lwlx.xyz just provides a project scaffold, some Markdown-loading loading utilities (in <code>loader.ts</code>), and some sensible styling defaults (especially in <code>Markdown.tsx</code>).</p><p>To get started customizing, check out the source code of <code>index.tsx</code> (the home page), <code>BlogPost.tsx</code> (the blog post template), and <code>Markdown.tsx</code> (the Markdown renderer).</p><p>Head to the GitHub repo to get started: <a href="https://github.com/Lawlez/dev.lwlx.xyz">https://github.com/Lawlez/dev.lwlx.xyz</a>. If you like this project, leave a â­ï¸starâ­ï¸ to help more people find dev.lwlx.xyz ðŸ˜Ž</p><h1>CLI</h1><h3><code>yarn dev</code></h3><p>Starts the development server. Equivalent to <code>next dev</code>.</p><h3><code>yarn build</code></h3><p>Creates an optimized build of your site. Equivalent to <code>next build</code>.</p><h3><code>yarn export</code></h3><p>Exports your site to static files. All files are written to <code>/out</code>. Use your static file hosting service of choice (Firebase Hosting, Amazon S3, Vercel) to deploy your site. Equivalent to <code>next export</code>.</p></div></div></div><div style="width:100%;padding:100px 3vw;display:flex;flex-direction:column;align-items:center"><h2 style="margin:4px 0px;font-size:22pt;padding-bottom:30px">Get started</h2><a href="https://github.com/Lawlez/dev.lwlx.xyz" style="cursor:pointer"><button style="padding:10px 30px;background-color:#04060A;color:white;font-size:14pt;border:none;border-radius:10px;cursor:pointer">Fork dev.lwlx.xyz on GitHub</button></a></div></div><div style="flex:1" class="jsx-2179548495"></div><div style="top:0;width:100%;height:56px;display:flex;flex-direction:row;align-items:center;justify-content:space-between;background-color:#04060A;color:#F07693;padding:32px;font-size:12pt"><p>Â© Dominik (lwlx) Feger 2020</p><a href="/rss.xml"><img src="/rss-white.svg" alt="RSS Feed" height="24" width="24"/></a><p>Version <!-- -->0.1.0</p></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"introduction":"# Welcome to dev.lwlx.xyz\n\nThis site is entirely built with dev.lwlx.xyz! In fact, the\n[GitHub repo for dev.lwlx.xyz](https://github.com/Lawlez/dev.lwlx.xyz) contains the\ncode for the site you're looking at now.\n\ndev.lwlx.xyz doesn't try to be a fully functional blog out of the box. After cloning/forking the repo, you'll need to delete the contents of `index.tsx` (the page you're reading now!) and implement your own homepage. dev.lwlx.xyz makes it easier â€” for instance, you can access a list of all your blog posts in `props.posts` â€” but you still have to build the site you're imagining in your mind's eye.\n\nAnd that's the point! After you clone/fork it, look through this code to learn how dev.lwlx.xyz works. Then rip out what you don't like, customize everything else, and build your own tools and components on top of the foundation dev.lwlx.xyz provides!\n\ndev.lwlx.xyz was designed to place _zero restrictions_ on what your site can be or become. You can use any React component or styling library, pull in data from third-party APIs, even implement user accounts. Your personal website is the online manifestation of you. Don't compromise.\n","features":"It may not look like much, but dev.lwlx.xyz does a lot out of the box.\n\n**Markdown loading and rendering**: Using Next.js dynamic imports, you can load Markdown files and pass them into your Next.js pages as props. Easy peasy.\n\n**TypeScript + React**: Markdown is great for text-heavy, non-interactive content. For everything else, you'll want something a little more expressive. dev.lwlx.xyz makes it easy to mix Markdown and React on the same page. Just load your Markdown files with dynamic imports, pass it into your component as a prop, and render it with the `Markdown.tsx` component.\n\n**Built-in support for blogs**: dev.lwlx.xyz provides a utility for parsing Markdown blog posts with frontmatter metadata into a structured TypeScript object. Supported tags include: `title`, `subtitle`, `datePublished`, `tags`, `description`, `canonicalUrl`, `author`, `authorPhoto`, `authorTwitter`, `bannerPhoto`, and `thumbnailPhoto`\n\n**Medium-inspired styles**: The Markdown components (`Markdown.tsx`) contains default styles inspired by Medium.\n\n**Google Analytics**: Just add your Google Analytics ID (e.g. 'UA-999999999-1') to `globals.ts` and the appropriate snippet will be automatically added to every page.\n\n**RSS feed generation**: An RSS feed is auto-generated from your blog post feed.\n\n**SEO best practices**: Every blog post page automatically populated meta tags based on the post metadata. This includes a `title` tag, `meta` tags, `og:` tags, Twitter metadata, and a `link` tag containing the canonical URL.\n\n**GitHub-style code blocks**: with syntax highlighting powered by [react-syntax-highlighter](https://github.com/conorhastings/react-syntax-highlighter). Works out-of-the-box for all programming languages. Just use Markdown's triple backtick syntax with a \"language identifier\", [just like GitHub](https://help.github.com/en/github/writing-on-github/creating-and-highlighting-code-blocks).\n\n**Static generation**: you can generate a fully static version of your site using `yarn build \u0026\u0026 yarn export`. Powered by Next.js.\n\n**Zero magic**: You can view and modify every aspect of the site. If you're looking for a starting point, start modifying `index.tsx` (the home page), `BlogPost.tsx` (the blog post template), and `Markdown.tsx` (the Markdown component). And of course you can add entirely new pages/components as well!\n","readme":"\u003cp align=\"center\"\u003e\n  \u003ch1 align=\"center\"\u003edev.lwlx.xyz\u003c/h1\u003e\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  A developer blog starter for 2020. \u003cbr/\u003eNext.js\u003cbr/\u003eReact\u003cbr/\u003eTypeScript\u003cbr/\u003eMarkdown\u003cbr/\u003esyntax highlighting\u003cbr/\u003eSEO\u003cbr/\u003eRSS generation\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\nif you're happy and you know it, star this repo\n\u003c/p\u003e\n\u003cp align=\"center\"\u003e\n  \u003ca href=\"https://opensource.org/licenses/MIT\" rel=\"nofollow\"\u003e\n    \u003cimg src=\"https://img.shields.io/github/license/vriad/devii?alt\" alt=\"License\" style=\"width:100px;\"\u003e\n  \u003c/a\u003e\n\u003c/p\u003e\n\n\u003cbr/\u003e\n\u003cbr/\u003e\n\u003cbr/\u003e\n\nA dev blog starter for 2020.\n\n- Works as a Markdown-based static-site generator out of the box: just add new blog posts to `/md/blog`\n- Supports exporting to fully static assets (powered by Next.js)\n- Hot reload (powered by Next.js)\n- Makes it easy to write custom pages/code in React + TypeScript\n- Provides a `Markdown.tsx` component with support for GitHub-style syntax highlighting\n- Automatic RSS feed generation\n- SEO best practices (title tag, meta tags, canonical URLs)\n\n# Get started\n\nYour personal website is the online manifestation of you. dev doesn't really provide much out of the box. It provides some nice Medium-style default styles for your blog posts and some tools for loading/rendering Markdown. But you'll have to implement your own homepage more or less from scratch. And that's the point! Don't settle for some theme. Build something that represents you.\n\nTo get started:\n\n1. Fork this repo\n2. ```\n   git clone git@github.com:yourusername/devii.git my-blog\n   cd my-blog\n   yarn\n   ```\n3. Start the development server with `yarn dev`. This should start a server on `http://localhost:3000`.\n\n## Powered by Next.js\n\nThe core of this repo is [Next.js](https://https://nextjs.org). We chose Next.js because it's the simplest, most elegant way to generate a static version of a React-based website. The documentation is excellent; read it first: [Next.js Documentation](https://nextjs.org/docs).\n\n## Project structure\n\nHere's is an abbreviated version of the project structure. Certain config files (`next.config.js`, `next-end.d.ts`, `.gitignore`) have been removed for simplicity.\n\n```\n.\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ public // all static assets (images, css, etc) go here\nâ”œâ”€â”€ pages // every .tsx component in this dir becomes a page of the final site\n|   â”œâ”€â”€ index.tsx // the home page (which has access to the list of all blog posts)\n|   â”œâ”€â”€ blog\n|       â”œâ”€â”€ [blog].md // a template component that renders the blog posts under `/md/blog`\nâ”œâ”€â”€ md\n|   â”œâ”€â”€ blog\n|       â”œâ”€â”€ devii.md // this page!\n        â”œâ”€â”€ whatever.md // every MD file in this directory becomes a blog post\nâ”œâ”€â”€ components\n|   â”œâ”€â”€ BlogPost.tsx\n|   â”œâ”€â”€ Code.tsx\n|   â”œâ”€â”€ Footer.tsx\n|   â”œâ”€â”€ Header.tsx\n|   â”œâ”€â”€ Markdown.tsx\n|   â”œâ”€â”€ Meta.tsx\n|   â”œâ”€â”€ \u003cvarious\u003e\nâ”œâ”€â”€ loader.ts // contains utility functions for loading/parsing Markdown\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ package.json\n```\n\nNext.js generates a new webpage for each file in the `pages` directory. If you want to add an About page to your blog, just add `about.tsx` inside `pages` and start writing the page.\n\nBy default the repo only contains two pages: a home page (`/pages/index.tsx`) and a blog page (`/pages/[blog].md`).\n\nThe file `[blog].ts` follows the Next.js convention of using square brackets to indicate a [dynamic route](https://nextjs.org/docs/routing/dynamic-routes).\n\n## The home page\n\nThe home page is intentionally minimal. You can put whatever you want in `index.tsx`; one of our goals in designing dev.lwlx.xyz was to place no restrictions on the developer. Use your imagination! Your website is the online manifestion of you. You can use whatever npm packages or styling libraries you like.\n\n## Styling\n\ndev.lwlx.xyz is unopinionated about styling. Because your dev.lwlx.xyz site is a standard React app under the hood, you can use your favorite library from `npm` to do styling.\n\ndev.lwlx.xyz provides certain styles by default, notably in the Markdown renderer (`/components/Markdown.tsx`). Those styles are implemented using Next's built-in styling solution `styled-jsx`. Unfortunately it was necessary to make those styles global, since `styled-jsx` [doesn't play nice](https://github.com/vercel/styled-jsx/issues/573) with third-party components (in this case `react-markdown`).\n\nFeel free to re-implemement the built-in styles with your library of choice If you choose to use a separate styling library ([emotion](https://emotion.sh/) is pretty glorious) then you could re-implement the default styles\n\n## Adding a new blog post\n\nJust add a Markdown file under `md/blog/` to create a new blog post:\n\n1. Create a new Markdown file called `foo.md` within the `/md/blog` directory\n2. Add in some basic Markdown content\n3. Then go to `http://localhost:3000/blog/foo`. You should see the new post.\n\n## Frontmatter support\n\nEvery Markdown file can include a \"frontmatter block\" containing various metadata. dev.lwlx.xyz provides a `loadPost` utility that loads a Markdown file, parses it's frontmatter metadata, and returns a structured `PostData` object:\n\n```ts\ntype PostData = {\n  path: string;\n  title?: string;\n  subtitle?: string;\n  description?: string; // used for SEO\n  canonicalUrl?: string; // used for SEO\n  datePublished?: number; // Unix timestamp\n  author?: string;\n  authorPhoto?: string;\n  authorHandle?: string; // twitter handle\n  tags?: string[];\n  bannerPhoto?: string;\n  thumbnailPhoto?: string;\n};\n```\n\nFor example, here is the frontmatter blog from the sample blog post (`md/blog/the-ultimate-tech-stack.md`):\n\n```\n---\ntitle: Introducing dev.lwlx.xyz\nsubtitle: Bringing the power of React, TypeScript, and static generation to dev blogs everywhere\ndatePublished: 1589064522569\nauthor: Ben Bitdiddle\ntags:\n  - dev.lwlx.xyz\n  - Blogs\nauthorPhoto: /profile.jpg\nbannerPhoto: /brook.jpg\nthumbnailPhoto: /brook.jpg\n---\n```\n\nView `/loader.ts` to see how this works.\n\n## Google Analytics\n\nJust add your Google Analytics ID (e.g. 'UA-999999999-1') to `globals.ts` and dev.lwlx.xyz will automatically add the appropriate Google Analytics snippet to your site. Go to `/pages/_app.ts` to see how this works or customize this behavior.\n\n## Medium-inspired design\n\nThe Markdown renderer (`Markdown.tsx`) provides a default style inspired by Medium. Just modify the CSS in `Markdown.tsx` to customize the design to your liking.\n\n## GitHub-style code blocks\n\nYou can easily drop code blocks into your blog posts using triple-backtick syntax ([just like GitHub](https://help.github.com/en/github/writing-on-github/creating-and-highlighting-code-blocks)). No more embedding CodePen iframes! ðŸš€\n\nWorks out-of-the-box for all programming languages. Specify your language with a \"language tag\". So this:\n\n  \u003cpre\u003e\n  ```ts\n  // pretty neat huh?\n  const test = (arg: string) =\u003e {\n    return arg.length \u003e 5;\n  };\n  ```\u003c/pre\u003e\n\nturns into\n\n```ts\n// pretty neat huh?\nconst test = (arg: string) =\u003e {\n  return arg.length \u003e 5;\n};\n```\n\nView `/components/Code.tsx` to see how this works or customize this behavior.\n\n## Markdown loading\n\n_You don't need to understand all of this to use dev.lwlx.xyz. Consider this an \"advanced guide\" you can use if you want to customize the structure of the site._\n\nMarkdown posts are loaded during Next.js static build step. Check out the [Data Fetching](https://nextjs.org/docs/basic-features/data-fetching) documentation to learn more about this.\n\nHere's the short version: if export a function called `getStaticProps` from one of your page components, Next.js will execute that function, take the result, and pass the `props` property (which should be another object) into your page as props.\n\nYou can dynamically load and parse a Markdown file using `loadMarkdownFile`, a utility function implemented in `loader.ts`. It is an async function that returns a `PostData` TypeScript object containing all the metadata keys listed above:\n\nFor an example of this, check out the `getStaticProps` implementation from the homepage. The function calls `loadBlogPosts` - a utilty function that loads _every_ blog posts in the `/md/blog/` directory, parses them, and returns `PostData[]`.\n\n```ts\nexport const getStaticProps = async () =\u003e {\n  const posts = await loadBlogPosts();\n  return { props: { posts } };\n};\n```\n\nThere are a few utility functions in `loader.ts` that dev.lwlx.xyz uses. All functions are _async_! All functions accept a _relative_ path which is expected to be \\_relative to the `md/` directory. For instance `loadPost('blog/test.md'`) would load `/md/blog/test.md`.\n\n- `loadPost` loads/parses a Markdown file and returns a `PostData`\n- `loadBlogPosts`: loads/parses all the files in `/md/blog/`. Returns `PostData[]`. Used in `index.tsx` to load/render a list of all published blog posts\n- `loadMarkdownFile`: loads a Markdown file but doesn't parse it. Returns the string content. Useful if you want to implement some parts of a page in Markdown and other parts in React\n- `loadMarkdownFiles`: accepts a [glob](https://docs.python.org/3/library/glob.html) pattern and loads all the files inside `/md/` whose names match the pattern. Used internally by `loadBlogPosts`\n\n## Static generation\n\nYou can generate a fully static version of your site using `yarn build \u0026\u0026 yarn export`. This step is entirely powered by Next.js. The static site is exported to the `out` directory.\n\nAfter it's generated, use your static file hosting service of choice (Vercel, Netlify, Firebase Hosting, Amazon S3) to deploy your site.\n\n## Global configs\n\nThere is a `globals.ts` file in the project root containing some settings/configuration metadata about your site:\n\n- `yourName`: Your name, used for the copyright tags in the footer and the RSS feed, e.g. Alyssa P. Hacker\n- `siteName`: The title of your blog, e.g. `Alyssa's Cool Blog`;\n- `siteDescription`: A short description, used in the `meta` description tag, e.g. 'I write about code \\'n stuff';\n- `siteCreationDate`: Used in the generated RSS feed. Use this format: 'March 3, 2020 04:00:00 GMT';\n- `twitterHandle`: The twitter handle for you or your blog/company, used in the Twitter meta tags. Include the @ symbol, e.g. '@alyssaphacker';\n- `email`: Your email, used as the \"webMaster\" and \"managingEditor\" field of the generated RSS feed, e.g. `alyssa@example.com`;\n- `url`: The base URL of your website, used to \"compute\" default canonical links from relative paths, e.g. 'https://alyssaphacker.com';\n- `accentColor`: The header and footer background color, e.g. `#4fc2b4`;\n\n## RSS feed generation\n\nAn RSS feed is auto-generated from your blog post feed. This feed is generated using the `rss` module (for converting JSON to RSS format) and `showdown` for converting the markdown files to RSS-compatible HTML.\n\nFor RSS generation to work, all your posts must contain a `datePublished` timestamp in their frontmatter metadata. To examine or customize the RSS generation, check out the `rssUtil.ts` file in the root directory.\n\n## SEO\n\nEvery blog post page automatically populated meta tags based on the post metadata. This includes a `title` tag, `meta` tags, `og:` tags, Twitter metadata, and a `link` tag containing the canonical URL.\n\nThe default value of the canonical URL is computed by concatenating the value of your `url` config (see Global Configs above) and the relative path of your post. Verify that the canonical URL is exactly equivalent to the URL in the browser when visiting your live site, otherwise your site's SEO may suffer.\n\n## Insanely customizable\n\nThere's nothing \"under the hood\" here. You can view and modify all the files that provide the functionality listed above. dev.lwlx.xyz just provides a project scaffold, some Markdown-loading loading utilities (in `loader.ts`), and some sensible styling defaults (especially in `Markdown.tsx`).\n\nTo get started customizing, check out the source code of `index.tsx` (the home page), `BlogPost.tsx` (the blog post template), and `Markdown.tsx` (the Markdown renderer).\n\nHead to the GitHub repo to get started: [https://github.com/Lawlez/dev.lwlx.xyz](https://github.com/Lawlez/dev.lwlx.xyz). If you like this project, leave a â­ï¸starâ­ï¸ to help more people find dev.lwlx.xyz ðŸ˜Ž\n\n# CLI\n\n### `yarn dev`\n\nStarts the development server. Equivalent to `next dev`.\n\n### `yarn build`\n\nCreates an optimized build of your site. Equivalent to `next build`.\n\n### `yarn export`\n\nExports your site to static files. All files are written to `/out`. Use your static file hosting service of choice (Firebase Hosting, Amazon S3, Vercel) to deploy your site. Equivalent to `next export`.\n","posts":[{"path":"blog/consistent-x-device-encryption","title":"Getting consistent Encryption in Node / PHP / Browser and openSSL","subtitle":null,"published":true,"datePublished":1603967203286,"tags":["encryption","decryption","openssl","nodejs","php"],"description":null,"canonicalUrl":"https://dev.lwlx.xyz/","author":"lwlx","authorPhoto":"/profile.jpg","authorTwitter":"InfoSecx0","bannerPhoto":"/crypto.jpg","thumbnailPhoto":"/crypto_thumb.jpg","content":"\nI recently was tasked to find a solution for encrypting data in different places and to be able to decrypt them all in a browser during runtime.\n\nSurprisingly, it was much harder than expected since there was so little documentation around this online. What was available were a few code only examples, so I was forced to do R\u0026D and just try all implementations and compare the in- \u0026 outputs\n\nGiven the lack of a decent out-of-the-box solution, I worry that many developers are settling for easy to use, insecure, solutions which place limits on the security and flexibility of your project. Security should be easy to use and accessible.\n\n\u003e Clone the repo here to get started with this setup: \u003ca href=\"https://gist.github.com/Lawlez/88e04e3541cc0608c953a118b86bfc1a\"\u003ehttps://gist.github.com/Lawlez/88e04e3541cc0608c953a118b86bfc1a\u003c/a\u003e\n\nOkay, so lets assume we use following input data to test each implementation:\n- **`key`** = '5035ae3567f2e69320b083d59a7364cf8d4b14e77d7b798051241ce546b327d9'  ` //must be 256 bits`\n- **`iv`** = '1d6ef201e0e7a9019ddf8414034325e2' ` //must be 128 bits`\n- **`inputData`** = `{\"TestData\":\"w17h SpÃ©^cIÃ¤l chÃ Ã¦rÂ§Â¢tÃ¨rs\", \"OK\":\"://seems/fine?x=lol\"}`\n\nLet's quickly run through each implementation:\n\n### Using Node JS Crypto module\n\nNode Provides a nice `crypto`  implementation. It's documentation is rather sparse, but this is what I ended up with by using:\n- `crypto.randomBytes()`\n- `crypto.createCipheriv()`\n- `crypto.createDecipheriv()`\n\n```javascript\nconst crypto = require('crypto')\n\n/**********************************************************************\n*\n*        DECRYPTION MODULE FOR USE INSIDE NODE.JS                     *\n*\n***********************************************************************/\n\nconst encryption = (data = 'TestString {} HÃ©llÃ¶Ã¼Ã¤') =\u003e {\n\n    const secretPhrase = crypto.randomBytes(16).toString('hex')\n    const salt = crypto.randomBytes(128 / 8).toString('hex')\n    //here we generate the key and give it back as a string, we use 100k iterations\n    //as suggested in best practices\n    //We can use the key multiple times to encrypt multiple things(-30GB), we just cant use\n    //the same initialization vector twice\n    //the key for aes-256 needs to be 256 bits which equals 32 bytes or 32 characters\n    const configKey = crypto.pbkdf2Sync(secretPhrase, salt, 100000, 32, 'sha256').toString('hex').substr(0, 32)\n    //create unique IV for each encryption, the key can be reused. IV needs to always be 16 bytes\n    const IV = crypto.randomBytes(16)\n\n    //create ciphers for each encryption using the shared key and the unuique IV\n    const projectConfigCipher = crypto.createCipheriv('aes-256-cbc', configKey, IV.toString('hex').substr(0,16)\n\n    //encripting the storage location using the prepared cipher\n    const encrypted = Buffer.concat([configStorageCipher.update(\n        'STORAGE', 'utf8'\n    ), configStorageCipher.final()]).toString('hex')\n\n\treturn encrypted\n\n}\n```\n#### Testing the implementation\n\nthe first thing we notice is that we need to trim the key to 32bytes and the IV to 16 bytes. this is likely because of the conversion from hex to string after creation of the key.\n\n- **`key`** = '5035ae3567f2e69320b083d59a7364cf'  ` //is now 32 bytes string`\n- **`iv`** = '1d6ef201e0e7a901' ` //is now 16 bytes string`\n\nthis will probably lead to an issue later on, since other implementations actually want the longer strings. maybe we can find a work around by base64 encoding instead of stringifying the key and iv.\n\na quick test reveals, yes we actually can:\n```\nconst IV = crypto.randomBytes(16)\nconsole.log(IV) // \u003cBuffer c1 1e 98 84 54 eb 85 f6 b3 d0 51 87 d2 62 80 a7\u003e\n    console.log(IV.toString('base64')) // wR6YhFTrhfaz0FGH0mKApw==\n    console.log(Buffer.from(IV.toString('base64'), 'base64')) //\u003cBuffer c1 1e 98 84 54 eb 85 f6 b3 d0 51 87 d2 62 80 a7\u003e\n```\n\nThe output we recieve is of type buffer, but when we convert it to string using `toString('hex')` we can read the data:\n\n- **`OUTPUT`** = '\u003cBuffer f2 fb 62 b1 7e e9 da 0c 8c bd 56 f2 45 a9 87 60 b4 e2 a6 d0 c5 de f1 50 bc 6d 86 00 f8 5d b4 79\u003e' ` //is 32 bytes`\n- **`OUTPUT_Stringified`** = 'f2fb62b17ee9da0c8cbd56f245a98760b4e2a6d0c5def150bc6d8600f85db479' ` //is now 64 bytes string`\n- **`OUTPUT_Base64`** = '8vtisX7p2gyMvVbyRamHYLTiptDF3vFQvG2GAPhdtHk=' ` //is now 44 bytes string`\n\nso using the codes below we can switch between theese three outputs as we like\n\n```javascript\n//output Buffer\nencrypted = Buffer.concat([encrypted, Cipher.final()])\n\n//output String\nencrypted = Buffer.concat([encrypted, Cipher.final()]).toString('hex')\n\n\n//output Base64\nencrypted = Buffer.concat([encrypted, Cipher.final()]).toString('base64')\n\n//revert conversion to base64\nBuffer.from(encrypted.toString('base64') , 'base64')\n```\n\nFrom what we have learned here i guess the best option is to use the base64 output method, since we can easily convert it to a buffer\n\n### Using browserify-aes's node crypto like implementation inside the Browser\n\nInside the browser, we cannot use Nodes.js built-in modules. Using `browserify-aes` we can use a node-like crypto implementation, which uses the same syntax as the node implementation. In my use case, I only need to decipher in the browser, this means I donâ€™t have to worry about a true random key generation or ciphering.\n\n```js\nimport crypto from 'browserify-aes'\n\n/**********************************************************************\n*\n*        DECRYPTION MODULE FOR USE IN BROWSER DURING RUNTIME          *\n*\n***********************************************************************/\nconst decrypt = hash =\u003e {\n    const hash = hash.data\n    //get IV from input, make sure its no longer than 16 bytes\n    const IV = hash.IV\n\n    //ein neuer cipher wird vorbereitet, mittels aes256, unserem 256 bit KEY und dem config IV\n    const decipher = crypto.createDecipheriv(\n        'aes256',\n        process.env.APP_CONFIG_KEY.substr(0, 32),\n       IV,\n    )\n\n    //der hash wird nun decrypted mittels dem zuvor erstellten cipher\n    const decrypted = Buffer.concat([decipher.update(\n         Buffer.from(hash, 'hex'),\n     ), decipher.final()]).toString()\n\n   return JSON.parse(decrypted)\n}\n```\n\n### ENCRYPTION \u0026 DECRYPTION MODULE FOR PHP7+ USING OPENSSL\n\nIn PHP 7 we make use of the `openssl_encrypt` implementation to encrypt an utf8 string and finally encode it with `base64_encode`.\nFor decryption we also make use of the official openssl implementation `openssl_decrypt`, before decrypting we need to decode using `base64_decode`.\n\n```php\n/**********************************************************************\n*\n*        ENCRYPTION \u0026 DECRYPTION MODULE FOR PHP7+ USING OPENSSL       *\n*\n***********************************************************************/\n\nclass AESEncryption {\n\n\t//key length should be 256 bits for aes 256 this means we use a string with 32 bytes\n\tpublic static $key = \"5f08e0ec585393a8e2ca8f0a1a0ae752\";\n\n\t //iv length should be always be 128 bit / 16 bytes\n\tpublic static $iv = \"05d387e7f773035a\";\n\n\t // The AES uses a block size of sixteen octets (128 bits)\n\tpublic static $Method = 'AES-256-CBC';\n\n\t/**\n\t  * use the AES to encrypt plaintext data and return a base 64 string\n\t *\n\t * $key\n\t */\n\tpublic static function encrypt($cleartext,$key = ''){\n\n\t\t$key = empty($key) ? self::$key : $key;\n\n\t\t$encrypted = openssl_encrypt($cleartext, self::$Method, $key, OPENSSL_RAW_DATA, self::$iv);\n\n\t\treturn base64_encode($encrypted);\n\n\t}\n\n\t/**\n\t  * use the AES to decrypt a base 64 string into plaintext\n\t *\n\t * $key\n\t */\n\tpublic static function decrypt($encrypted,$key = ''){\n\n\t\t$key = empty($key) ? self::$key : $key;\n\n\t\t$encrypted = base64_decode($encrypted);\n\n\t\t$decrypted = openssl_decrypt($encrypted, self::$Method, $key, OPENSSL_RAW_DATA, self::$iv);\n\n\t\treturn trim($decrypted);\n\t}\n}\n```\n\n### Using openssl for use in CLI\n\nInside of a Command Line Interface we use `openssl` do en- or decrypt data.\n\nfor node/browserify to be able to decrypt it we need to add the `-nosalt` option, which disables salting the data.\n\n```bash\n#########################################################################################\n#                                                                                       #\n#               ENCRYPTION FOR CLI IN / MACOS / LINUX / WINDOWS                         #\n#                                                                                       #\n#########################################################################################\n\n#encrypt with key \u0026 IV but no salt\ncat config.json | openssl aes-256-cbc -iv $(cat iv)  -K $(cat key) -A -nosalt -base64\n\n#decrypt with key IV and base64\necho \"encryptedString\" | openssl aes-256-cbc -d -iv $(cat iv)  -K $(cat key) -base64 -A\n```\n#### testing the implementation\n\nI created a json file called `test.json` containing the inputData. so when we run the following command ...\n```bash\ncat test.json | openssl aes-256-cbc -iv \"1d6ef201e0e7a9019ddf8414034325e2\"  -K \"5035ae3567f2e69320b083d59a7364cf8d4b14e77d7b798051241ce546b327d9\" -A -nosalt\n```\nWe get no warnings and an output like this:\n- **`OUTPUT`** = g??.G?Ùªa?W????ÔFv?? 0P0+v?'???R=CR??a?\t?5!??N?\"?e?q?M{C\\??:u-?wH?? ` //weird looking binary data`\n\nas you can see this is not very usefull so we apply the base64 encoding after encryption\n```bash\ncat test.json | openssl aes-256-cbc -iv \"1d6ef201e0e7a9019ddf8414034325e2\"  -K \"5035ae3567f2e69320b083d59a7364cf8d4b14e77d7b798051241ce546b327d9\" -A -nosalt -base64\n```\n- **`OUTPUT_base64`** = Z8QIo6YuR7DZqmHHV4WqqorUnUZ2n88gMFADMCt2FKUn/ZeYUj1DEBNS2NthignUNR0hw+OOFU7qACKPZbxx8k0Pe0McXNDrOnUtl3dIwdg= ` //now this looks nice`\n\nnow we can also decrypt the just created data like so\n\n```bash\necho $encryptedData | openssl aes-256-cbc -d -iv \"1d6ef201e0e7a9019ddf8414034325e2\" -K \"5035ae3567f2e69320b083d59a7364cf8d4b14e77d7b798051241ce546b327d9\" -A -base64\n```\nThis yields us this outpu\n- **`OUTPUT`** = {\"TestData\":\"w17h SpÃ©^cIÃ¤l chÃ Ã¦rÂ§Â¢tÃ¨rs\", \"OK\":\"://seems/fine?x=lol\"} ` //yes, thats out original input! :)`\n\n\n## final solution\n\n...\n"},{"path":"blog/Sick-Security-and-Dev-Tools","title":"A Collection of useful Security and DevOps tools.","subtitle":null,"published":true,"datePublished":1600786088187,"tags":["tools","devtools","security","javascript","devops"],"description":null,"canonicalUrl":"https://dev.lwlx.xyz/","author":"lwlx","authorPhoto":"/profile.jpg","authorTwitter":"InfoSecx0","bannerPhoto":"/profile.jpg","thumbnailPhoto":"/profile.jpg","content":"# sickTools\na collection of useful, special, or just cool tools to use and try to get more done in less time.\n\n---\n\n## AppSec Tools\n- [x] [lynis](https://github.com/CISOfy/lynis) |  `active` |: Security auditing tool for Linux, macOS, and UNIX-based systems\n- [ ] [killcord](https://github.com/nomasters/killcord) | **`new`** |: a censorship resistant deadman's switch\n- [x] [OWASP ZAP](https://github.com/zaproxy/zaproxy) |  `active` |: autodetect security vulnerabilities in your web applications while developing and testing your applications\n- [ ] [ClamAV](https://github.com/Cisco-Talos/clamav-faq) | **`new`** |: open source antivirus engine for detecting trojans, viruses, malware \u0026 other malicious threats.\n\n---\n\n## Automation Tools\n- [ ]\n\n---\n\n## developer Tools\n- [x] [(js-) IPFS](https://github.com/ipfs/js-ipfs) |  `active` |: A peer-to-peer hypermedia protocol\ndesigned to make the web faster, safer, and more open.\n- [ ] [ML5.js](https://github.com/ml5js/ml5-library) | *tested* |: Friendly \u0026 easy to use machine learning for the web!\n- [ ] [TensorFlow](https://github.com/tensorflow) | **`new`** |: Open Source Machine Learning Framework (With extensive docs and big community)\n- [ ] [deno](https://github.com/denoland/deno) | _testing_ |: Deno aims to provide a productive and secure scripting environment for the modern programmer. It is built on top of V8, Rust, and TypeScript.\n- [x] [PNPM](https://github.com/pnpm/pnpm) | _testing_ |: Faster, disk space efficient package manager, with good monorepo support.\n- [ ] [verdaccio](https://verdaccio.org/) | **`new`** |: A lightweight open source private npm proxy registry\n- [ ] [caprover](https://github.com/caprover/caprover) | **`new`** |: Easiest app/database deployment platform and webserver package for your NodeJS, Python, PHP, Ruby, Go applications. No Docker, nginx knowledge required!\n\n---\n\n## misc Tools\n- [x] [Chrome Galvanizer](https://thehackerblog.com/galvanizer/) | *tested* |: Harden your Chrome browser via enterprise policy.\n- [ ] [Cursed Chrome](https://github.com/mandatoryprogrammer/CursedChrome) | **`new`** |: Chrome-extension implant that turns victim Chrome browsers into fully-functional HTTP proxies, allowing you to browse sites as your victims.\n- [x] [NMAP](https://github.com/nmap/nmap) |  `active` |: The #1 network scanner \u0026 mapper\n- [x] [nmap-vulners](https://github.com/vulnersCom/nmap-vulners) |  `active` |: extension to NMAP that chekcs for more known vulns\n- [ ] [lesspass](https://github.com/lesspass/lesspass) | **`new`** |: stateless open source password manager\n- [ ] [GrantProxy](https://grantproxy.com/) | **`new`** |: Turn your web browser into a magic proxy server in one click.\n- [ ] [ohmyzsh](https://github.com/ohmyzsh/ohmyzsh) | **`new`** |: A delightful community-driven framework for managing your zsh configuration. Includes 200+ plugins\n\n---\n\n# sickGuides\na collection of useful guides or tutorials to stay safe.\n\n## Security Guides\n- [x] [OWASP Cheat Sheets](https://cheatsheetseries.owasp.org/) |  `active` |: These cheat sheets were created by various application security professionals who have expertise in specific topics.\n- [ ] [PortSwigger XSS CheatSheet](https://portswigger.net/web-security/cross-site-scripting/cheat-sheet) |  `active` |: An extensive list of known XSS vulns, sortable and searchable\n\n---\n\n## Dev Guides\n- [ ] [HTMLHEAD.dev](https://htmlhead.dev/) : A free guide to HTML5 \u003chead\u003e elements\n- [ ] [CSS FlexBox Cheatsheet](https://css-tricks.com/snippets/css/a-guide-to-flexbox/) |  `active` |: the only CSS flexbox cheatsheet you'll need\n- [x] [DevDocs.io](https://devdocs.io/) |  `active` |: Huge, fast, searchable reporsitory for dev documentation, from java to docker, from rust to WordPress.\n- [ ] [Set Up a Private NPM Registry Locally](https://blog.bitsrc.io/how-to-set-up-a-private-npm-registry-locally-1065e6790796) | *tested* |: using verdaccio to setup local NPM registry.\n- [ ] [Grepper](https://www.codegrepper.com/index.php) | **`new`** |: Accrue code answers to common coding problems, find code answers without thinking - using Greppers â€œcode problemâ€ search engine.\n\n---\n\n### Sources\n\n- [`OWASP`](https://owasp.org/) â€” The Open Source Web Application Security Protocol\n- [`Matthew Bryant`](https://github.com/mandatoryprogrammer/) â€” XSSHunter / chrome galvanizer\n- [`lwlx`](https://skills.rendered.ch) â€” lwlx\n\n\n## License\n\n[The MIT License](LICENSE).\n\n- `- [ ] ([tool name](\u003clink\u003e)|*tested*|**`new`**|deprecated| `active`): \u003cdescription\u003e `"}]},"__N_SSG":true},"page":"/index.old","query":{},"buildId":"t8C-bcqS9wxlfo2mCBgNM","nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["script",{"async":true,"src":"https://www.googletagmanager.com/gtag/js?id=G-TZ2VB384DV","className":"jsx-2179548495"}],["script",{"dangerouslySetInnerHTML":{"__html":"\n              window.dataLayer = window.dataLayer || [];\n              function gtag(){dataLayer.push(arguments);}\n              gtag('js', new Date());\n\n            gtag('config', 'G-TZ2VB384DV');\n            "},"className":"jsx-2179548495"}],["title",{"children":"Introducing dev.lwlx.xyz"}],["link",{"rel":"icon","href":"/favicon.ico"}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-fa276ba060a4a8ac7eef.js"></script><script src="/_next/static/chunks/main-925c129bbe0560f6b8dc.js" async=""></script><script src="/_next/static/chunks/webpack-e067438c4cf4ef2ef178.js" async=""></script><script src="/_next/static/chunks/framework.9307f483d5f18bd6c60f.js" async=""></script><script src="/_next/static/chunks/2e673fc21468a4432efcf19d818365d58fdba786.41dc43abfacb65988d02.js" async=""></script><script src="/_next/static/chunks/f6078781a05fe1bcb0902d23dbbb2662c8d200b3.93469a02a48268d1aa12.js" async=""></script><script src="/_next/static/chunks/pages/_app-4bf52dd0731f50193482.js" async=""></script><script src="/_next/static/chunks/a58f3d40a2fe7d102a34d530ac258b1586e746d5.03d0df94a6f2b092a22b.js" async=""></script><script src="/_next/static/chunks/pages/index.old-e343ff192d2d50e9cbaf.js" async=""></script><script src="/_next/static/t8C-bcqS9wxlfo2mCBgNM/_buildManifest.js" async=""></script><script src="/_next/static/t8C-bcqS9wxlfo2mCBgNM/_ssgManifest.js" async=""></script></body></html>