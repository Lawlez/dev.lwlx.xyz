{"pageProps":{"post":{"path":"blog/emdeefiveforlife","title":"HTB write up for the emdee five for life[EASY] challenge","subtitle":null,"published":true,"datePublished":1632890871205,"tags":["javascript","htb","md5","security","web"],"description":"we need to create a script to be able to decript and send a response fast enough..","canonicalUrl":"https://dev.lwlx.xyz/blog/emdeefiveforlife","author":"lwlx","authorPhoto":"/profile","authorTwitter":"0x0000005","bannerPhoto":"/default","thumbnailPhoto":"/default.png","content":"\n# emdee five for life _[EASY]_\n\nThis is my Write Up for the \"emdee five for life\" challenge from Hack The Box.\n\n![challenge info](/htb/emdeefiveforlife/challenge.png \"challenge info\")\n\nWe get a website with encrypted data, this can be decrypted easily.\n\n![website](/htb/emdeefiveforlife/website.png \"website info\")\n\nOk so its clear we need to create a script to be able to decript and send a response fast enough.. \n```javascript\nconst crypto = require(\"crypto\");\nconst http = require(\"http\");\nconst axios = require(\"axios\").default;\nconst httpAgent = new http.Agent({ keepAlive: true });\n\nconst loadData = async () => {\n  try {\n    const response = await axios.get(\"http://144.126.206.242:32609\", {\n      httpAgent,\n    });\n\n    const PAGE = response.data;\n    const x = \"<h3 align='center'>\";\n    const y = \"</h3>\";\n    const string = PAGE.substring(\n      PAGE.indexOf(x) + x.length,\n      PAGE.lastIndexOf(y)\n    );\n\n    console.log(\"recieved string: \", string);\n    const md5 = (data) => crypto.createHash(\"md5\").update(data).digest(\"hex\");\n    const hash = md5(string);\n    console.log(\"new MD: \", hash);\n\n    const response2 = await axios({\n      method: \"post\",\n      url: \"http://127.0.0.1:32609\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Cookie: \"PHPSESSID=ilimcjsspls1p1qpnhlbdbf6o6\",\n      },\n      data: `hash=${hash}`,\n      //go through burp proxy\n      proxy: {\n        host: \"127.0.0.1\",\n        port: 8080,\n      },\n      httpAgent,\n    });\n\n    console.log(response2.data);\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nloadData();\n\n```\nrun the script: \n\n```shell\nnode exploit.js\n\n```"}},"__N_SSG":true}